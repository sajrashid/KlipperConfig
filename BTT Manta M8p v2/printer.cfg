[include mainsail.cfg]

# host MCU service is preinstalled and ready to use with:
[mcu CB1]
serial: /tmp/klipper_host_mcu

[include bigtreetech-manta-m8p-V2_0.cfg]
[include macros.cfg]
[exclude_object]
[gcode_macro PROBE_DOWN]
gcode:
    SET_PIN PIN=probe_enable VALUE=1

[gcode_macro PROBE_UP]
gcode:
    SET_PIN PIN=probe_enable VALUE=0

[output_pin probe_enable]
pin: PD12  # Set to the control pin on your board
value: 0

[probe]
pin: ^!PD13 
deactivate_on_each_sample: False
x_offset: 75
y_offset: -12
#z_offset: 0  # Will be overridden when you do a PROBE_CALIBRATE
samples: 2
samples_tolerance: 0.005
samples_tolerance_retries: 3
activate_gcode:
    PROBE_DOWN
    G4 P500
deactivate_gcode:
    PROBE_UP

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.258125, -0.198281, -0.272188
#*# 	  -0.048281, -0.070156, -0.013125
#*# 	  0.084531, 0.130625, 0.111250
#*# x_count = 3
#*# y_count = 3
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = lagrange
#*# tension = 0.2
#*# min_x = 60.0
#*# max_x = 280.0
#*# min_y = 25.0
#*# max_y = 250.0
#*#
#*# [probe]
#*# z_offset = 0.200
